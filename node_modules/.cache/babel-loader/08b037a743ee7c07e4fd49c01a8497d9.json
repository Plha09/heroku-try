{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\plha9\\\\Downloads\\\\admin\\\\admin\\\\src\\\\pages\\\\AddEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport './AddEdit.css';\nimport fireDb from '../firebase';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  password: \"\"\n};\n\nconst AddEdit = () => {\n  _s();\n\n  const [state, setState] = useState(initialState);\n  const [data, setData] = useState({});\n  const {\n    name,\n    email,\n    phone,\n    password\n  } = state;\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    fireDb.child(\"users\").on(\"value\", snapshot => {\n      if (snapshot.val() !== null) {\n        setData({ ...snapshot.val()\n        });\n      } else {\n        setData({});\n      }\n    });\n    return () => {\n      setData({});\n    };\n  }, [id]);\n  useEffect(() => {\n    if (id) {\n      setState({ ...data[id]\n      });\n    } else {\n      setState({ ...initialState\n      });\n    }\n\n    return () => {\n      setState({ ...initialState\n      });\n    };\n  }, [id, data]);\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!name || !email || !phone || !password) {\n      toast.error(\"The input fields cannot be empty\");\n    } else {\n      if (!id) {\n        fireDb.child(\"users\").push(state, err => {\n          if (err) {\n            toast.error(err);\n          } else {\n            toast.success(\"User added sucessfully\");\n          }\n        });\n      } else {\n        fireDb.child(`users/${id}`).set(state, err => {\n          if (err) {\n            toast.error(err);\n          } else {\n            toast.success(\"User updated sucessfully\");\n          }\n        });\n      }\n\n      setTimeout(() => navigate.push(\"/\"), 300);\n      navigate(\"/\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Your Name...\",\n        value: name || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Your Eamil...\",\n        value: email || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"phone\",\n        children: \"Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"phone\",\n        name: \"phone\",\n        placeholder: \"Your 8 digits phone No...\",\n        value: phone || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"Password...\",\n        value: password || \"\",\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"Submit\",\n        value: id ? \"Update\" : \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddEdit, \"Re4yB3RCh46ZeUxwKvgAUKhjZos=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = AddEdit;\nexport default AddEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEdit\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","fireDb","toast","initialState","name","email","phone","password","AddEdit","state","setState","data","setData","navigate","id","child","on","snapshot","val","handleInputChange","event","value","target","handleSubmit","e","preventDefault","error","push","err","success","set","setTimeout"],"sources":["C:/Users/plha9/Downloads/admin/admin/src/pages/AddEdit.js"],"sourcesContent":["import React, {useEffect, useState,} from 'react'\r\nimport { useNavigate, useParams} from 'react-router-dom';\r\nimport './AddEdit.css';\r\nimport fireDb from '../firebase';\r\nimport {toast} from 'react-toastify';\r\n\r\n\r\n\r\nconst initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n}\r\n\r\nconst AddEdit = () => {\r\n    const [state, setState] = useState(initialState);\r\n    const [data, setData] = useState({});\r\n\r\n    const {name, email, phone, password} = state;\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const {id} = useParams();\r\n\r\n    useEffect (()=> {\r\n        fireDb.child(\"users\").on(\"value\", (snapshot) => {\r\n          if (snapshot.val() !== null){\r\n            setData({...snapshot.val() });\r\n          }\r\n          else {\r\n            setData({});\r\n          }\r\n        });\r\n    \r\n        return () => {\r\n          setData({});\r\n        }; \r\n      },[id]);\r\n\r\n      useEffect(() => {\r\n        if (id) {\r\n           setState({...data[id]}) \r\n        }\r\n        else {\r\n            setState({...initialState})\r\n        }\r\n\r\n        return () => {\r\n            setState({...initialState})\r\n        }\r\n      },[id, data])\r\n\r\n    const handleInputChange = (event) => {\r\n        const {name,value} = event.target;\r\n        setState({...state, [name]: value})\r\n    };\r\n\r\n    const handleSubmit = (e)=> {\r\n        e.preventDefault();\r\n        if (!name || !email || !phone || !password) {\r\n            toast.error(\"The input fields cannot be empty\")\r\n        }\r\n        else {\r\n            if(!id) {\r\n                fireDb.child(\"users\").push(state, (err) => {\r\n                    if (err) {\r\n                        toast.error(err);\r\n                    }\r\n                    else {\r\n                        toast.success(\"User added sucessfully\");\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                fireDb.child(`users/${id}`).set(state, (err) => {\r\n                    if (err) {\r\n                        toast.error(err);\r\n                    }\r\n                    else {\r\n                        toast.success(\"User updated sucessfully\");\r\n                    }\r\n                });\r\n\r\n            }\r\n            \r\n            setTimeout(() => navigate.push (\"/\"),300);\r\n            navigate(\"/\")  \r\n        }\r\n\r\n    };\r\n  return (\r\n    <div className=\"Container\">\r\n        <form\r\n            className=\"form\"\r\n            onSubmit={handleSubmit}\r\n            >\r\n            <label htmlFor='name'>Name</label>\r\n            <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            placeholder= \"Your Name...\"\r\n            value={name || \"\"}\r\n            onChange={handleInputChange}\r\n            />\r\n\r\n            <label htmlFor='email'>Email</label>\r\n            <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder= \"Your Eamil...\"\r\n            value={email || \"\"}\r\n            onChange={handleInputChange}\r\n            />\r\n            <label htmlFor='phone'>Phone</label>\r\n            <input\r\n            type=\"number\"\r\n            id=\"phone\"\r\n            name=\"phone\"\r\n            placeholder= \"Your 8 digits phone No...\"\r\n            value={phone || \"\"}\r\n            onChange={handleInputChange}\r\n            />\r\n            <label htmlFor='password'>Password</label>\r\n            <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder= \"Password...\"\r\n            value={password || \"\"}\r\n            onChange={handleInputChange}\r\n            />\r\n            <input\r\n            type=\"Submit\"\r\n            value={id ? \"Update\" : \"Save\"}\r\n            \r\n            />\r\n        </form>\r\n    </div>\r\n   \r\n  )\r\n}\r\n\r\nexport default AddEdit"],"mappings":"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"},"metadata":{},"sourceType":"module"}