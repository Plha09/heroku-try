{"ast":null,"code":"import _objectSpread from\"C:/Users/plha9/Downloads/admin/admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/plha9/Downloads/admin/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import fireDb from'../firebase';import{Link}from'react-router-dom';import'./Dashboard.css';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){fireDb.child(\"users\").on(\"value\",function(snapshot){if(snapshot.val()!==null){setData(_objectSpread({},snapshot.val()));}else{setData({});}});return function(){setData({});};},[]);var onDelete=function onDelete(id){if(window.confirm(\"Are you sure you want to delete this user ?\")){fireDb.child(\"users/\".concat(id)).remove(function(err){if(err){toast.error(err);}else{toast.success(\"User deleted successfully.\");}});}};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"80px\"},className:\"container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"styled-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"No.\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Password\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(data).map(function(id,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:data[id].name}),/*#__PURE__*/_jsx(\"td\",{children:data[id].email}),/*#__PURE__*/_jsx(\"td\",{children:data[id].phone}),/*#__PURE__*/_jsx(\"td\",{children:data[id].password}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-edit\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-delete\",onClick:function onClick(){return onDelete(id);},children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/view/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-view\",children:\"View\"})})]})]},id);})})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","fireDb","Link","toast","Dashboard","data","setData","child","on","snapshot","val","onDelete","id","window","confirm","remove","err","error","success","marginTop","textAlign","Object","keys","map","index","name","email","phone","password"],"sources":["C:/Users/plha9/Downloads/admin/admin/src/pages/Dashboard.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport fireDb from '../firebase';\r\nimport { Link } from 'react-router-dom';\r\nimport './Dashboard.css'\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nconst Dashboard = () => {\r\n  const [data, setData] = useState({});\r\n\r\n  useEffect (()=> {\r\n    fireDb.child(\"users\").on(\"value\", (snapshot) => {\r\n      if (snapshot.val() !== null){\r\n        setData({...snapshot.val() });\r\n      }\r\n      else {\r\n        setData({});\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setData({});\r\n    }; \r\n  },[]);\r\n\r\n  const onDelete = (id) => {\r\n      if (window.confirm(\"Are you sure you want to delete this user ?\")) {\r\n          fireDb.child(`users/${id}`).remove((err) => {\r\n            if(err) {\r\n              toast.error(err)\r\n            }\r\n            else {\r\n              toast.success(\"User deleted successfully.\")\r\n            }\r\n          })\r\n      }\r\n  }\r\n\r\n  return (\r\n   <div style={{marginTop: \"80px\",}}\r\n   className=\"container\" >\r\n     <table className='styled-table'>\r\n          <thead>\r\n            <tr>\r\n              <th style={{textAlign: \"center\"}}>No.</th>\r\n              <th style={{textAlign: \"center\"}}>Name</th>\r\n              <th style={{textAlign: \"center\"}}>Email</th>\r\n              <th style={{textAlign: \"center\"}}>Contact</th>\r\n              <th style={{textAlign: \"center\"}}>Password</th>\r\n              <th style={{textAlign: \"center\"}}>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n              {Object.keys(data).map((id, index) => {\r\n                return (\r\n                  <tr key={id}>\r\n                      <th scope='row'>{index + 1}</th>\r\n                      <td>{data[id].name}</td>\r\n                      <td>{data[id].email}</td>\r\n                      <td>{data[id].phone}</td>\r\n                      <td>{data[id].password}</td>\r\n                      <td>\r\n                          <Link to={`/update/${id}`}>\r\n                          <button className='btn btn-edit'>Edit</button>\r\n                          </Link>\r\n                          <button className='btn btn-delete' onClick={()=> onDelete(id)}>Delete</button>\r\n                          <Link to={`/view/${id}`}>\r\n                          <button className='btn btn-view'>View</button>\r\n                          </Link>\r\n                      </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n          </tbody>   \r\n     </table>\r\n   </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"],"mappings":"mPAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,OAAP,KAAmB,aAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,iBAAP,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,wFAGA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eAEAN,SAAS,CAAE,UAAK,CACdC,MAAM,CAACM,KAAP,CAAa,OAAb,EAAsBC,EAAtB,CAAyB,OAAzB,CAAkC,SAACC,QAAD,CAAc,CAC9C,GAAIA,QAAQ,CAACC,GAAT,KAAmB,IAAvB,CAA4B,CAC1BJ,OAAO,kBAAKG,QAAQ,CAACC,GAAT,EAAL,EAAP,CACD,CAFD,IAGK,CACHJ,OAAO,CAAC,EAAD,CAAP,CACD,CACF,CAPD,EASA,MAAO,WAAM,CACXA,OAAO,CAAC,EAAD,CAAP,CACD,CAFD,CAGD,CAbQ,CAaP,EAbO,CAAT,CAeA,GAAMK,SAAQ,CAAG,QAAXA,SAAW,CAACC,EAAD,CAAQ,CACrB,GAAIC,MAAM,CAACC,OAAP,CAAe,6CAAf,CAAJ,CAAmE,CAC/Db,MAAM,CAACM,KAAP,iBAAsBK,EAAtB,GAA4BG,MAA5B,CAAmC,SAACC,GAAD,CAAS,CAC1C,GAAGA,GAAH,CAAQ,CACNb,KAAK,CAACc,KAAN,CAAYD,GAAZ,EACD,CAFD,IAGK,CACHb,KAAK,CAACe,OAAN,CAAc,4BAAd,EACD,CACF,CAPD,EAQH,CACJ,CAXD,CAaA,mBACC,YAAK,KAAK,CAAE,CAACC,SAAS,CAAE,MAAZ,CAAZ,CACA,SAAS,CAAC,WADV,uBAEE,eAAO,SAAS,CAAC,cAAjB,wBACK,oCACE,mCACE,WAAI,KAAK,CAAE,CAACC,SAAS,CAAE,QAAZ,CAAX,iBADF,cAEE,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,kBAFF,cAGE,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,mBAHF,cAIE,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,qBAJF,cAKE,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,sBALF,cAME,WAAI,KAAK,CAAE,CAACA,SAAS,CAAE,QAAZ,CAAX,oBANF,GADF,EADL,cAWK,uBACKC,MAAM,CAACC,IAAP,CAAYjB,IAAZ,EAAkBkB,GAAlB,CAAsB,SAACX,EAAD,CAAKY,KAAL,CAAe,CACpC,mBACE,mCACI,WAAI,KAAK,CAAC,KAAV,UAAiBA,KAAK,CAAG,CAAzB,EADJ,cAEI,oBAAKnB,IAAI,CAACO,EAAD,CAAJ,CAASa,IAAd,EAFJ,cAGI,oBAAKpB,IAAI,CAACO,EAAD,CAAJ,CAASc,KAAd,EAHJ,cAII,oBAAKrB,IAAI,CAACO,EAAD,CAAJ,CAASe,KAAd,EAJJ,cAKI,oBAAKtB,IAAI,CAACO,EAAD,CAAJ,CAASgB,QAAd,EALJ,cAMI,mCACI,KAAC,IAAD,EAAM,EAAE,mBAAahB,EAAb,CAAR,uBACA,eAAQ,SAAS,CAAC,cAAlB,kBADA,EADJ,cAII,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAAKD,SAAQ,CAACC,EAAD,CAAb,EAA5C,oBAJJ,cAKI,KAAC,IAAD,EAAM,EAAE,iBAAWA,EAAX,CAAR,uBACA,eAAQ,SAAS,CAAC,cAAlB,kBADA,EALJ,GANJ,GAASA,EAAT,CADF,CAkBD,CAnBA,CADL,EAXL,GAFF,EADD,CAuCD,CAtED,CAwEA,cAAeR,UAAf"},"metadata":{},"sourceType":"module"}